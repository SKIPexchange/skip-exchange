<div
  class="container-wrapper"
  *ngIf="view === 'Asset' || view === 'Deposit' || view === 'Approve'"
>
  <div class="container">
    <div *ngIf="view === 'Deposit'">
      <div class="main-container">
        <nav class="content-top">
          <app-breadcrumb
            [path]="[
              { name: 'vanaheimex', call: 'swap' },
              { name: 'Pools', call: 'pool' },
              { name: 'Deposit', disable: true }
            ]"
            [isError]="
              mainButtonText() !== 'Ready' && mainButtonText() !== 'Prepare'
            "
            [message]="mainButtonText()"
            (funcCaller)="goToNav($event)"
          ></app-breadcrumb>
        </nav>
      </div>

      <app-asset-input
        label="Deposit"
        [(selectedAsset)]="asset"
        [(assetUnit)]="assetAmount"
        [balance]="assetBalance"
        [disabledAssetSymbol]="rune.symbol"
        [selectableMarkets]="selectableMarkets"
        [isDeposit]="true"
        (lunchMarket)="overlaysService.setCurrentDepositView('Asset')"
        (maxError)="setMaxError($event)"
      >
      </app-asset-input>

      <app-arrow [isPlus]="true"></app-arrow>

      <app-asset-input
        label="Deposit"
        [(selectedAsset)]="rune"
        [(assetUnit)]="runeAmount"
        [balance]="runeBalance"
        [priceInput]="runePrice"
        [hideMax]="true"
        [disableInput]="true"
        [disabledAssetSymbol]="rune.symbol"
        [disabledMarketSelect]="true"
        [isDeposit]="true"
      >
      </app-asset-input>

      <div class="swap-details">
        <div class="flex justify-between">
          <span class="tx-detail-label">Network Fee:</span>
          <span *ngIf="networkFee"
            >{{ networkFee | number: "1.0-8" }} {{ asset.ticker }}.{{
              asset.chain
            }}</span
          >
          <span *ngIf="!networkFee">...</span>
        </div>
        <div class="flex justify-between">
          <span class="tx-detail-label">RUNE Fee:</span>
          <span *ngIf="runeFee">{{ runeFee | number: "1.0-4" }} RUNE</span>
          <span *ngIf="!runeFee">...</span>
        </div>
      </div>

      <div class="bottom-actions two-btn">
        <div class="left-btn">
          <button class="close-btn" (click)="back()">
            <span>Cancel</span>
          </button>
        </div>
        <div class="divider"></div>
        <div class="right-btn">
          <button
            *ngIf="!ethContractApprovalRequired"
            (click)="openConfirmationDialog()"
            class="next-btn graident-btn"
            [disabled]="formDisabled() || !assetPoolData"
          >
            <span>Deposit</span>
          </button>
          <app-approve-eth-contract
            *ngIf="ethContractApprovalRequired"
            [contractAddress]="ethRouter"
            [asset]="asset"
            (approveClicked)="overlaysService.setCurrentDepositView('Approve')"
            (approved)="contractApproved()"
          >
          </app-approve-eth-contract>
        </div>
      </div>
    </div>

    <div
      class="overlay-container overlay-connect-wallet"
      *ngIf="view === 'Asset'"
    >
      <app-markets-modal
        [(selectedAsset)]="asset"
        [selectableMarkets]="selectableMarkets"
        [disabledAssetSymbol]="rune.symbol"
        (close)="overlaysService.setCurrentDepositView('Deposit')"
        [showApy]="true"
      >
        <app-breadcrumb
          [path]="[
            { name: 'vanaheimex', swapView: 'Swap', mainView: 'Swap' },
            { name: 'Pools', call: 'pool' },
            { name: 'Deposit', call: 'deposit-back' },
            { name: 'SEARCH', disable: true }
          ]"
          message="SELECT"
          (funcCaller)="goToNav($event)"
        ></app-breadcrumb>
      </app-markets-modal>
    </div>

    <div
      class="overlay-container overlay-connect-wallet"
      *ngIf="view === 'Approve'"
    >
      <app-approve-eth-contract-modal
        [data]="{ asset: asset, contractAddress: ethRouter }"
        (approvedHash)="contractApproved()"
        (close)="overlaysService.setCurrentDepositView('Deposit')"
        mode="deposit"
      ></app-approve-eth-contract-modal>
    </div>
  </div>
</div>

<app-confirm-deposit-modal
  *ngIf="view === 'Confirm' && depositData"
  (close)="closeSuccess($event)"
  [data]="depositData"
>
</app-confirm-deposit-modal>

<!-- TODO: this should be checked -->
<!-- <div *ngIf="poolNotFoundErr">
  <div class="container">
    <app-section-head sectionTitle="Add Liquidity" [displayBackBtn]="true" (back)="back()"></app-section-head>
    <div class="flex flex-col items-center justify-center p-8 text-sm flex-grow">
      <div class="flex flex-col items-center">
        <mat-icon>warning</mat-icon>
        <div *ngIf="asset" class="my-4">
          {{asset.chain}}.{{asset.ticker}} Pool Not Found
        </div>
        <a class="gradient-btn rounded-lg px-8 py-4" [routerLink]="['/', 'create-pool']" [queryParams]="{pool: asset.chain + '.' + asset.symbol}">Create Pool</a>
      </div>
    </div>
  </div>
</div> -->
