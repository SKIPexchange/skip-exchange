<div
  *ngIf="userView === 'Addresses'"
  class="container-wrapper">
  <div class="container">

    <div class="content-top">
      <app-breadcrumb [path]="[{name: 'vanaheimex', swapView: 'Swap', mainView: 'Swap'}, {name: 'wallet', disable: true}]" message="select"></app-breadcrumb>
      <div class="top-right">
      </div>
    </div>
    <div>
      <div mat-dialog-content>

        <div>
          <div *ngIf="loading" class="icon-container">

            <mat-progress-spinner mode="indeterminate" diameter="60"></mat-progress-spinner>

          </div>

          <div class="wallets" *ngIf="!loading">

            <!-- THORChain -->
            <div class="w-address" *ngIf="thorAddress" (click)="selectAddress(thorAddress, 'THOR')">
              <div class="icon-addr">
                <div class="asset-icon-container">
                  <img class="asset-icon"
                    src="/assets/icons/logo-thor-rune.svg" />
                </div>
                <label>THOR</label>
                <span class="chain-usd" *ngIf="chainUsdValue['THOR'] && !isTestnet && chainUsdValue['THOR'].value !== 0">({{chainUsdValue['THOR'].value | number: '0.0-2'}} USD)</span>
              </div>
              <div class="addr">
                <span>{{thorAddress.substring(0, 9) + '...' + thorAddress.substring(thorAddress.length - 9, thorAddress.length)}}</span>
              </div>
            </div>

            <!-- Bitcoin -->
            <div class="w-address" *ngIf="bitcoinAddress" (click)="selectAddress(bitcoinAddress, 'BTC')">
              <div class="icon-addr">
                <div class="asset-icon-container">
                  <img class="asset-icon"
                    src="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/binance/assets/BTCB-1DE/logo.png" />
                </div>
                <label>BTC</label>
                <span class="chain-usd" *ngIf="chainUsdValue['BTC'] && !isTestnet && chainUsdValue['BTC'].value !== 0">({{chainUsdValue['BTC'].value | number: '0.0-2'}} USD)</span>
              </div>
              <div class="addr">
                <span>{{bitcoinAddress.substring(0, 9) + '...' + bitcoinAddress.substring(bitcoinAddress.length - 9, bitcoinAddress.length)}}</span>
              </div>
            </div>

            <!-- Ethereum -->
            <div class="w-address" *ngIf="ethereumAddress" (click)="selectAddress(ethereumAddress, 'ETH')">
              <div class="icon-addr">
                <div class="asset-icon-container">
                  <img class="asset-icon"
                    src="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png" />
                </div>
                <label>ETH</label>
                <span class="chain-usd" *ngIf="chainUsdValue['ETH'] && !isTestnet && chainUsdValue['ETH'].value !== 0">({{chainUsdValue['ETH'].value | number: '0.0-2'}} USD)</span>
              </div>
              <div class="addr">
                <span>{{ethereumAddress.substring(0, 9) + '...' + ethereumAddress.substring(ethereumAddress.length - 9, ethereumAddress.length)}}</span>
              </div>
            </div>

            <!-- Binance -->
            <div class="w-address" *ngIf="binanceAddress" (click)="selectAddress(binanceAddress, 'BNB')">
              <div class="icon-addr">
                <div class="asset-icon-container">
                  <img class="asset-icon" src="assets/images/token-icons/bnb.png" />
                </div>
                <label>BNB</label>
                <span class="chain-usd" *ngIf="chainUsdValue['BNB'] && !isTestnet && chainUsdValue['BNB'].value !== 0">({{chainUsdValue['BNB'].value | number: '0.0-2'}} USD)</span>
              </div>
              <div class="addr">
                <span>{{binanceAddress.substring(0, 9) + '...' + binanceAddress.substring(binanceAddress.length - 9, binanceAddress.length)}}</span>
              </div>
            </div>

            <!-- Litecoin -->
            <div class="w-address" *ngIf="litecoinAddress" (click)="selectAddress(litecoinAddress, 'LTC')">
              <div class="icon-addr">
                <div class="asset-icon-container">
                  <img class="asset-icon" src="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/litecoin/info/logo.png" />
                </div>
                <label>LTC</label>
                <span class="chain-usd" *ngIf="chainUsdValue['LTC'] && !isTestnet && chainUsdValue['LTC'].value !== 0">({{chainUsdValue['LTC'].value | number: '0.0-2'}} USD)</span>
              </div>
              <div class="addr">
                <span>{{litecoinAddress.substring(0, 9) + '...' + litecoinAddress.substring(litecoinAddress.length - 9, litecoinAddress.length)}}</span>
              </div>
            </div>

            <!-- Bitcoin Cash -->
            <div class="w-address" *ngIf="bchAddress" (click)="selectAddress(bchAddress, 'BCH')">
              <div class="icon-addr">
                <div class="asset-icon-container">
                  <img class="asset-icon" src="https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoincash/info/logo.png" />
                </div>
                <label>BCH</label>
                <span class="chain-usd" *ngIf="chainUsdValue['BCH'] && !isTestnet && chainUsdValue['BCH'].value !== 0">({{chainUsdValue['BCH'].value | number: '0.0-2'}} USD)</span>
              </div>
              <div class="addr">
                <span>{{bchAddress.substring(0, 9) + '...' + bchAddress.substring(bchAddress.length - 9, bchAddress.length)}}</span>
              </div>
            </div>

          </div>

        </div>

      </div>

      <!-- close dialog -->
      <div class="bottom-actions">
        <div>
          <button class="close-btn" (click)="close()">
            <span>close</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<app-user-address
  *ngIf="userView === 'Address'"
  [chain]="selectedChain"
  [address]="selectedAddress"
  [pools]="pools"
  (back)="clearSelectedAddress()"
  (navigateToAsset)="selectAsset($event)"
  (navigateToAddToken)="setMode('ADDRESS_ADD_TOKEN')">
</app-user-address>

<app-user-address-add-token
  *ngIf="userView === 'ADDRESS_ADD_TOKEN'"
  [chain]="selectedChain"
  [chainAddress]="selectedAddress"
  (back)="setMode('Address')">
</app-user-address-add-token>

<app-user-asset
  *ngIf="userView === 'Asset'"
  [asset]="selectedAsset"
  [address]="selectedAddress"
  (back)="clearSelectedAsset()"
  (send)="setMode('Send')"
  (upgradeRune)="mode = 'UPGRADE_RUNE'"
  (deposit)="mode = 'DEPOSIT'">
</app-user-asset>

<app-send-asset
  *ngIf="userView === 'Send'"
  [asset]="selectedAsset"
  (confirmSend)="confirmSend($event)"
  (back)="setMode('Asset')">
</app-send-asset>

<app-confim-send
  *ngIf="userView === 'Confirm'"
  [amount]="amountToSend"
  [recipientAddress]="recipient"
  [memo]="memo"
  [asset]="selectedAsset"
  [memo]="memo"
  (back)="setMode('Send')"
  (close)="setMode('Asset')"
  (transactionSuccessful)="transactionSuccessful()">
</app-confim-send>
